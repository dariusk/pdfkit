<!DOCTYPE html>
<html>
<head>
    <title>Annotations in PDFKit</title>
    <script>
    if(location.host !== "pdfkit.org") location.href='http://pdfkit.org' + location.pathname.slice(7)
    </script>
    <link href='http://fonts.googleapis.com/css?family=News+Cycle' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script src="../scroll.js"></script>
</head>
<body>
    <nav class="sidebar">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="getting_started.html">Documentation</a>
                <ul>
                    <li><a href="getting_started.html">Getting Started</a></li>
                    <li><a href="vector.html">Vector Graphics</a></li>
                    <li><a href="text.html">Text</a></li>
                    <li><a href="images.html">Images</a></li>
                    <li><a href="#top" class="selected">Annotations</a></li>
                </ul>
            </li>
            <li><a href="../example.pdf">Example PDF</a></li>
            <li><a href="http://github.com/devongovett/pdfkit">Source Code</a></li>
        </ul>
    </nav>
    
    <a href="https://github.com/devongovett/pdfkit"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
    
    <div class="main">
        <h1><a name="top">Annotations in PDFKit</a></h1>
        
        <p>Annotations are interactive features of the PDF format, and they make it possible to include things like links and attached notes, or to 
            highlight, underline or strikeout portions of text.  Annotations are added using the various helper methods, and each type of annotation 
            is defined by a rectangle and some other properties.  Here is a list of the available annotation methods:</p>
        <ul>
            <li><code>note(x, y, width, height, contents, options)</code></li>
            <li><code>link(x, y, width, height, url, options)</code></li>
            <li><code>highlight(x, y, width, height, options)</code></li>
            <li><code>underline(x, y, width, height, options)</code></li>
            <li><code>strike(x, y, width, height, options)</code></li>
            <li><code>lineAnnotation(x1, y1, x2, y2, options)</code></li>
            <li><code>rectAnnotation(x, y, width, height, options)</code></li>
            <li><code>ellipseAnnotation(x, y, width, height, options)</code></li>
            <li><code>textAnnotation(x, y, width, height, text, options)</code></li>
        </ul>
        <p>Many of the annotations have a <code>color</code> option that you can specify.  You can use an array of RGB values, a hex color, or a 
            named CSS color value for that option.</p>
        <p>If you are adding an annotation to a piece of text, such as a link or underline, you will need to know the width and height of the text 
            in order to create the required rectangle for the annotation.  There are two methods that you can use to do that.  To get the width of
            any piece of text in the current font, just call the <code>widthOfString</code> method with the string you want to measure.  To get the 
            line height in the current font, just call the <code>currentLineHeight</code> method.</p>
        <p>You must remember that annotations have a stacking order.  If you are putting more than one annotation on a single area and one of those 
            annotations is a link, make sure that the link is the last one you add, otherwise it will be covered by another annotation and the user 
            won't be able to click it.</p>
        <p>Here is an example that uses a few of the annotation types.</p>
        <script src="https://gist.github.com/1074963.js?file=annotations.coffee"></script>
        <p>The output of this example looks like this.</p>
        <img src="images/annotations.png">
        <p>Annotations are currently not the easiest things to add to PDF documents, but that is the fault of the PDF spec itself.  The next release 
            of PDFKit will hopefully make this process a little easier, so that you don't have to calculate the rectangle for each annotation.</p>
            
        <h2>You made it!</h2>
        <p>That's all there is too creating PDF documents in PDFKit.  It really is quite simple to create beautiful multi-page printable documents 
            using Node.js.  If you have any questions about what you've learned in this guide, please don't hesitate to 
            <a href="http://twitter.com/devongovett" target="_blank">ask the author</a>.  Enjoy!</p>
            
        <nav>
            <a href="images.html" class="previous">Previous</a>
            <a href="../index.html" class="next">Go to the home page</a>
        </nav>
    </div>
    
    <!-- Start of Woopra Code -->
    <script type="text/javascript">
    function woopraReady(tracker) {
        tracker.setDomain('pdfkit.org');
        tracker.setIdleTimeout(300000);
        tracker.track();
        return false;
    }
    (function() {
        var wsc = document.createElement('script');
        wsc.src = document.location.protocol+'//static.woopra.com/js/woopra.js';
        wsc.type = 'text/javascript';
        wsc.async = true;
        var ssc = document.getElementsByTagName('script')[0];
        ssc.parentNode.insertBefore(wsc, ssc);
    })();
    </script>
    <!-- End of Woopra Code -->
</body>
</html>